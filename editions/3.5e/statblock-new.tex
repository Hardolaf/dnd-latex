\documentclass[10pt]{article}
\usepackage{ifthen}

%% This is the core statblock for monsters. It is the redesigned statblock
%% published by WoTC in 2006, the official announcement of the stat block is at
%% https://www.wizards.com/default.asp?x=dnd/dd/20060707a

\newcommand{\DDstatblocknew}[1]{%

%% statreset.text contains a catalog of every stat command that would ever be
%% used in a stat block.
\input{statreset.tex}

\begin{center}\fbox{\begin{minipage}{4.5in}

%% basic info
\textbf{\MakeUppercase{\DDname} \DDclslvl}\\
\DDalign\ \DDsize\ \DDtype\ (\DDsubtype)\\
\textbf{Init} \DDinit; \textbf{Senses} \DDsenses\\
\textbf{Aura} \DDaura\\
\textbf{Languages} \DDlang\\
\raisebox{0.5ex}{\rule{1in}{0.25pt}}\\

%% basic combat stats
\textbf{AC} \DDAC, \textbf{touch} \DDtouch, \textbf{flat-footed} \DDtouch\\
\textbf{hp} \DDhp (\DDhd) %
%% Deal with optional field regeneration
\ifthenelse{\equal{\DDregen}{}}{}{; \DDregen}%
%% Deal with optional field damage resistance
\ifthenelse{\equal{\DDDR}{}}{}{; \textbf{DR} \DDDR}\\
%% Deal with optional field immune
\ifthenelse{\equal{\DDimm}{}}{}{\textbf{Immune} \DDimm\\}
%% Deal with optional field resist
\ifthenelse{\equal{\DDimm}{}}{}{\textbf{Resist} \DDres%
\ifthenelse{\equal{\DDSR}{}}{}{; }}%
%% Deal with otional field spell resistance
\ifthenelse{\equal{\DDSR}{}}{}{\textbf{SR} \DDSR}
%% Handle the new line
\ifthenelse{\equal{\DDimm}{\DDSR}}{}{\\}
%% Resistances are mandatory
\textbf{Fort} \DDfort, \textbf{Ref} \DDref, \textbf{Will} \DDwill\\
%% another optional stat
\ifthenelse{\equal{\DDweak}{}}{}{\textbf{Weakness} \DDweak\\}
\raisebox{0.5ex}{\rule{1in}{0.25pt}}\\

%% Advanced combat stats and movement information
\textbf{Speed} \DDspeed\\
%% Display each attack as its own line
%%
%% Space and Reach
\textbf{Space} \DDspace; \textbf{Reach} \DDreach\\
%% Base attack and grapple
\textbf{Base Atk} \DDbaseAtk; \textbf{Grp} \DDgrapple\\
%% Deal with optional attack options
\ifthenelse{\equal{\DDatkOptions}{}}{}{\textbf{Atk options} \DDatkOptions\\}
%% Deal with optional special actions
\ifthenelse{\equal{\DDspecAction}{}}{}{\textbf{Special Actions} \DDspecAction\\}
%% Deal with optional spell like abilities
\ifthenelse{\equal{\DDspellLikeAbil}{}}{}{\textbf{Spell-Like Abilities (\DDspelLikeAbilCL)\\\DDspellLikeAbil\\}}
\raisebox{0.5ex}{\rule{1in}{0.25pt}}\\

%% Advanced information
\textbf{Abilities} Str \DDstr, Dex \DDdex, Con \DDcon, Int \DDint, Wis \DDwis%
Cha \DDcha\\
%% Deal with optional special qualities
\ifthenelse{\equal{\DDsq}{}}{}{\textbf{SQ} \DDsq\\}
%% Deal with optional feats
\ifthenelse{\equal{\DDfeats}{}}{}{\textbf{Feats} \DDfeats\\}
%% Skills
\textbf{Skills} \DDskills
%% Deal with optional possesions
\ifthenelse{\equal{\DDpossesions}{}}{}{\textbf{Possessions} \DDpossesions\\}
\raisebox{0.5ex}{\rule{1in}{0.25pt}}\\

%% other sections
\hspace*{0.5in}\vdots
\end{minipage}}\end{center}

}
